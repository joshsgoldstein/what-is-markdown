---
interface Props {
  title: string;
}
const { title } = Astro.props;
---

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{title}</title>
  <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&family=DM+Mono:wght@400;500&family=DM+Sans:wght@400;500;600&display=swap" rel="stylesheet">
</head>
<body>
  <slot />
</body>
</html>

<style is:global>
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  :root {
    --ink: #0f0e0d;
    --paper: #faf8f4;
    --cream: #f2ede4;
    --accent: #c94f2a;
    --accent-light: #f5e8e3;
    --muted: #8a8278;
    --code-bg: #1c1917;
    --code-text: #e8e0d4;
    --border: #ddd8ce;
    --render-bg: #ffffff;
    --tag: #2a6b4f;
    --tag-bg: #e5f2ec;
  }

  body {
    font-family: 'DM Sans', sans-serif;
    background: var(--paper);
    color: var(--ink);
    padding: 48px 24px;
    min-height: 100vh;
  }

  .page {
    max-width: 860px;
    margin: 0 auto;
  }

  /* ── Header ── */
  .header {
    border-bottom: 2px solid var(--ink);
    padding-bottom: 24px;
    margin-bottom: 40px;
    display: flex;
    align-items: flex-end;
    justify-content: space-between;
    gap: 16px;
    flex-wrap: wrap;
  }

  .series-tag {
    display: inline-block;
    font-family: 'DM Mono', monospace;
    font-size: 11px;
    font-weight: 500;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    color: var(--tag);
    background: var(--tag-bg);
    padding: 4px 10px;
    border-radius: 3px;
    margin-bottom: 10px;
  }

  h1 {
    font-family: 'DM Serif Display', serif;
    font-size: 42px;
    line-height: 1.05;
    letter-spacing: -0.02em;
    margin-bottom: 6px;
  }

  h1 em {
    color: var(--accent);
    font-style: italic;
  }

  .subtitle {
    font-size: 13px;
    color: var(--muted);
    font-family: 'DM Mono', monospace;
    letter-spacing: 0.04em;
  }

  .big-label {
    font-family: 'DM Serif Display', serif;
    font-size: 18px;
    line-height: 1.3;
    text-align: right;
    color: var(--muted);
  }

  /* ── Section titles ── */
  .section-title {
    font-family: 'DM Mono', monospace;
    font-size: 11px;
    font-weight: 500;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    color: var(--muted);
    margin-bottom: 16px;
    display: flex;
    align-items: center;
    gap: 12px;
  }

  .section-title::after {
    content: '';
    flex: 1;
    height: 1px;
    background: var(--border);
  }

  /* ── Column labels ── */
  .col-labels {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2px;
    margin-bottom: 4px;
  }

  .col-label {
    font-family: 'DM Mono', monospace;
    font-size: 10px;
    color: var(--muted);
    letter-spacing: 0.06em;
    padding: 0 14px;
  }

  /* ── Cards ── */
  .card {
    background: var(--cream);
    border: 1px solid var(--border);
    border-radius: 6px;
    overflow: hidden;
  }

  .card-header {
    background: var(--ink);
    color: #fff;
    font-family: 'DM Mono', monospace;
    font-size: 11px;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    padding: 8px 14px;
    display: flex;
    align-items: center;
    justify-content: space-between;
  }

  .card-header .pill {
    background: var(--accent);
    color: #fff;
    font-size: 10px;
    padding: 2px 7px;
    border-radius: 10px;
    letter-spacing: 0.05em;
  }

  .card-body {
    padding: 0;
  }

  /* ── Row: raw | rendered ── */
  .row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    border-bottom: 1px solid var(--border);
  }

  .row:last-child { border-bottom: none; }

  .raw {
    background: var(--code-bg);
    padding: 12px 14px;
    font-family: 'DM Mono', monospace;
    font-size: 13px;
    color: var(--code-text);
    border-right: 1px solid #2e2b28;
    display: flex;
    align-items: center;
    word-break: break-all;
  }

  .raw .sym { color: #f0a05a; }
  .raw .cmd { color: #6b8fa6; }
  .raw .val { color: var(--code-text); }

  .rendered {
    background: var(--render-bg);
    padding: 12px 14px;
    font-family: 'DM Sans', sans-serif;
    font-size: 14px;
    color: var(--ink);
    display: flex;
    align-items: center;
    line-height: 1.5;
  }

  .rendered h1r {
    font-family: 'DM Serif Display', serif;
    font-size: 22px;
    font-weight: 700;
    display: block;
  }

  .rendered h2r {
    font-family: 'DM Serif Display', serif;
    font-size: 18px;
    font-weight: 700;
    display: block;
  }

  .rendered h3r {
    font-family: 'DM Sans', sans-serif;
    font-size: 15px;
    font-weight: 600;
    display: block;
  }

  .rendered a { color: var(--accent); text-decoration: underline; }

  .rendered code {
    background: #f0ece5;
    font-family: 'DM Mono', monospace;
    font-size: 12px;
    padding: 2px 6px;
    border-radius: 3px;
    color: var(--accent);
  }

  .rendered blockquote {
    border-left: 3px solid var(--accent);
    padding-left: 10px;
    color: var(--muted);
    font-style: italic;
    font-size: 13px;
  }

  .rendered ul {
    list-style: disc;
    padding-left: 18px;
    font-size: 13px;
  }

  .rendered .hr-line {
    width: 100%;
    height: 1px;
    background: var(--border);
    display: block;
  }

  .rendered .img-placeholder {
    background: var(--cream);
    border: 1px dashed var(--border);
    border-radius: 4px;
    padding: 6px 12px;
    font-size: 12px;
    color: var(--muted);
    font-style: italic;
  }

  /* ── Grid ── */
  .grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    margin-bottom: 20px;
  }

  .grid-3 {
    grid-template-columns: 1fr 1fr 1fr;
  }

  @media (max-width: 600px) {
    .grid, .grid-3 { grid-template-columns: 1fr; }
  }

  /* ── Best Practices ── */
  .bp-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
    margin-bottom: 20px;
  }

  .bp-item {
    background: var(--render-bg);
    border: 1px solid var(--border);
    border-radius: 6px;
    padding: 14px 16px;
    display: flex;
    gap: 12px;
    align-items: flex-start;
  }

  .bp-icon {
    width: 28px;
    height: 28px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
    flex-shrink: 0;
    margin-top: 1px;
  }

  .bp-icon.do { background: #e5f2ec; }
  .bp-icon.dont { background: #fde8e3; }

  .bp-text strong {
    font-size: 13px;
    font-weight: 600;
    display: block;
    margin-bottom: 3px;
  }

  .bp-text p {
    font-size: 12px;
    color: var(--muted);
    line-height: 1.5;
  }

  /* ── AI Callout ── */
  .ai-callout {
    background: var(--ink);
    color: #fff;
    border-radius: 8px;
    padding: 24px 28px;
    margin-top: 32px;
    display: grid;
    grid-template-columns: auto 1fr;
    gap: 20px;
    align-items: start;
  }

  .ai-icon {
    font-size: 28px;
    line-height: 1;
    margin-top: 2px;
  }

  .ai-callout h3 {
    font-family: 'DM Serif Display', serif;
    font-size: 20px;
    color: #fff;
    margin-bottom: 10px;
  }

  .ai-callout p {
    font-size: 13px;
    color: #b0a898;
    line-height: 1.7;
    margin-bottom: 8px;
  }

  .ai-callout p:last-child { margin-bottom: 0; }
  .ai-callout strong { color: #f0a05a; }

  /* ── Footer ── */
  .footer {
    border-top: 1px solid var(--border);
    margin-top: 40px;
    padding-top: 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 8px;
  }

  .footer-left {
    font-family: 'DM Serif Display', serif;
    font-size: 16px;
    color: var(--ink);
  }

  .footer-right {
    font-family: 'DM Mono', monospace;
    font-size: 11px;
    color: var(--muted);
    letter-spacing: 0.08em;
  }

  /* ── Front Matter (Markdown cheatsheet) ── */
  .fm-card {
    background: var(--code-bg);
    border-radius: 6px;
    overflow: hidden;
    border: 1px solid #333;
    margin-bottom: 20px;
  }

  .fm-header {
    background: #2a2520;
    padding: 8px 14px;
    font-family: 'DM Mono', monospace;
    font-size: 11px;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: #888;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .fm-header span { color: #f0a05a; }

  .fm-body {
    padding: 16px 20px;
    font-family: 'DM Mono', monospace;
    font-size: 13px;
    line-height: 1.8;
    color: var(--code-text);
  }

  .fm-delim { color: #f0a05a; font-weight: 500; }
  .fm-key { color: #7ec8a4; }
  .fm-val { color: #c9a96e; }
  .fm-arr { color: #9db8f0; }

  .fm-explainer {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
    margin-top: 16px;
    margin-bottom: 20px;
  }

  .fm-note {
    background: var(--cream);
    border: 1px solid var(--border);
    border-radius: 6px;
    padding: 12px 14px;
  }

  .fm-note-key {
    font-family: 'DM Mono', monospace;
    font-size: 12px;
    color: var(--tag);
    font-weight: 500;
    margin-bottom: 4px;
  }

  .fm-note-val {
    font-size: 13px;
    color: var(--muted);
    line-height: 1.5;
  }

  /* ── LLM Grid (Markdown cheatsheet) ── */
  .llm-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
    margin-top: 16px;
    margin-bottom: 20px;
  }

  @media (max-width: 600px) {
    .llm-grid { grid-template-columns: 1fr; }
  }

  .llm-item {
    background: white;
    border: 1px solid var(--border);
    border-radius: 6px;
    padding: 16px 18px;
    display: flex;
    gap: 14px;
    align-items: flex-start;
  }

  .llm-item-accent {
    background: var(--ink);
    border-color: var(--ink);
    grid-column: span 2;
  }

  .llm-item-accent strong,
  .llm-item-accent p { color: #fff; }
  .llm-item-accent p { color: #b0a898 !important; }

  .llm-number {
    font-family: 'DM Serif Display', serif;
    font-size: 22px;
    color: var(--accent);
    line-height: 1;
    flex-shrink: 0;
    margin-top: 2px;
    min-width: 28px;
  }

  .llm-content strong {
    font-size: 13px;
    font-weight: 600;
    display: block;
    margin-bottom: 5px;
    color: var(--ink);
  }

  .llm-content p {
    font-size: 12px;
    color: var(--muted);
    line-height: 1.6;
  }

  .llm-content code {
    background: #f0ece5;
    font-family: 'DM Mono', monospace;
    font-size: 11px;
    padding: 1px 5px;
    border-radius: 3px;
    color: var(--accent);
  }

  /* ── Commit Card (Git cheatsheet) ── */
  .commit-card {
    border: 1px solid var(--border);
    border-radius: 6px;
    overflow: hidden;
    margin-bottom: 20px;
  }

  .commit-header {
    background: #2a2623;
    padding: 8px 14px;
    display: flex;
    justify-content: space-between;
    font-family: 'DM Mono', monospace;
    font-size: 11px;
    color: #6b635a;
    letter-spacing: 0.06em;
  }

  .commit-body {
    background: var(--code-bg);
    padding: 16px 18px;
    font-family: 'DM Mono', monospace;
    font-size: 13px;
    line-height: 1.9;
    color: var(--code-text);
  }

  .commit-key { color: #f0a05a; }
  .commit-val { color: #a8cc8c; }
  .commit-hash { color: #6b8fa6; }

  .commit-explanation {
    background: var(--cream);
    padding: 16px 18px;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px 24px;
  }

  .commit-item strong {
    font-size: 12px;
    font-family: 'DM Mono', monospace;
    color: var(--accent);
    display: block;
    margin-bottom: 3px;
  }

  .commit-item p {
    font-size: 12px;
    color: var(--muted);
    line-height: 1.5;
  }
</style>
